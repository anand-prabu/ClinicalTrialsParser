<html>
<head>
<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
</head>
<body>
<div id="map" style="width: 600px; height: 400px"></div>
<script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script type="application/json" id="jsonOSF">
{
    'geo_data':[
        {
            'city': 'Charlottesville', 
            'country': 'United States', 
            'name': 'Center for Research in Reproduction, University of Virginia', 
            'state': 'Virginia', 
            'zip': '22908',
            'latitude': 40.029306,
            'longitude': -80.4766781
        },
        {
            'city': 'Ljubljana',
            'country': 'Slovenia',
            'name': 'UMC Ljubljana, Department of Infectious Diseases',
            'zip':'1525',
            'state': null,
            'latitude': 46.049865,
            'longitude': 14.5068921
        },
        {
            'city': 'Baltimore',
            'country': 'United States',
            'name': 'Johns Hopkins University (BPRU) Bayview Campus',
            'zip': '21224 6823',
            'state': 'Maryland',
            'latitude': 39.2908608,
            'longitude': -76.6108073
        },
        {
            'city': 'New Haven',
            'country': 'United States',
            'name': 'VA Connecticut Healthcare System',
            'zip': '06519',
            'state': 'Connecticut',
            'latitude': 41.3082138,
            'longitude': -72.9250518
        }    
    ] 
}
</script>
<script>

var data = JSON.parse($("#jsonOSF").html());



var latlng = L.latLng(38.0350, -78.5050);
var latlng2 = L.latLng(38.04, -77.45);
var latlng3 = L.latLng(40, -60);
var latlng4 = L.latLng(37.424, -122.165);


var map = L.map('map').setView(latlng, 8);
map.fitBounds([latlng,latlng2, latlng3, latlng4]);


L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',
}).addTo(map);




var marker = L.marker(latlng).addTo(map);
var marker2 = L.marker(latlng2).addTo(map);
var marker3 = L.marker(latlng3).addTo(map);
var marker4 = L.marker(latlng4).addTo(map);


marker.bindPopup("<b>University of Virginia</b><br>It's nice here.");
marker2.bindPopup("<b>Random Location</b><br>How did I end up here?");
marker3.bindPopup("<b>can this just work?</b><br>pls. ...").openPopup();
marker4.bindPopup("<b>California Dreaming</b><br> Shout-out to 2pac");


</script>

</body>
</html>